/**
 * ä¸ç•¶è¨€èªžè©žåº«
 * åŒ…å«é«’è©±ã€å¨è„…ã€é¨·æ“¾ã€æ­§è¦–ç­‰ä¸ç•¶å…§å®¹
 *
 * 2026-01 æ›´æ–°ï¼šç¾åœ¨åªé¡¯ç¤ºè­¦å‘Šï¼Œä¸é˜»æ“‹ç™¼é€ï¼Œæ‰€ä»¥å¯ä»¥åŠ å…¥æ›´å¤šè©žå½™
 */

/**
 * é«’è©±/ç²—è©±ï¼ˆå°ç£å¸¸è¦‹ï¼‰
 */
export const PROFANITY_WORDS = [
  // ===== å¸¸è¦‹é«’è©± =====
  'å¹¹', 'å¹¹ä½ ', 'å¹¹æ‚¨', 'å¹²ä½ ', 'å¹²æ‚¨',
  'é ', 'é åŒ—', 'é æ¯', 'é èƒŒ', 'é ä¹ˆ', 'é è…°', 'é é‚€', 'é å¤­', 'å“­åŒ—', 'å“­å¤­', 'å°»',
  'åª½çš„', 'é¦¬çš„', 'ä»–åª½', 'ä»–é¦¬', 'ä½ åª½', 'å¦³åª½', 'è€æ¯', 'å¨˜çš„',
  'æ“', 'æ“ä½ ', 'è‚', 'è‚ä½ ', 'è‰æ³¥é¦¬', 'è‰ä½ ',
  'æ©ŸæŽ°', 'é›žæŽ°', 'æ©Ÿå…«', 'é›žå…«', 'æ©Ÿå·´', 'é›žå·´', 'åŸºæŽ°', 'å¹¾æŽ°', 'å¹¾å…«', 'åŸºå…«', 'ã„ã„…', 'é›žæ­ª',
  'ä¸‰å°', 'å•¥å°', 'æ®ºå°', 'è¦å°', 'çžŽå°', 'ä¸‰æ´¨', 'å•¥æ´¨', 'æ²™å°', 'å•¥æ´¨',

  // ===== ç½µäººç¬¨/ç™½ç›® =====
  'åŒ—ä¸ƒ', 'ç™½ç™¡', 'ç™½ç—´', 'ç™½ç›®', 'æ™ºéšœ', 'ä½Žèƒ½', '87', 'å…«ä¸ƒ', 'ç™½ä¸ƒ',
  'è ¢', 'è ¢è›‹', 'è ¢è²¨', 'ç¬¨è›‹', 'ç¬¨', 'å‚»', 'å‚»é€¼', 'å‚»B', 'è…¦æ®˜', 'æ²’è…¦', 'ç„¡è…¦',
  'å¼±æ™º', 'è…¦å­æœ‰æ´ž', 'è…¦è¢‹è£å±Ž', 'è±¬è…¦', 'è±¬é ­', 'å‘†å­', 'ç™½çˆ›',
  'äºŒç™¾äº”', 'äºŒè²¨', 'æ†¨', 'æ†¨ç‹—', 'æ†¨åŒ…', 'å‘†ç“œ',

  // ===== ç½µäººè¨ŽåŽ­/ç…© =====
  'å±çœ¼', 'å±å­©', 'å°å±å­©', 'æ­»å°å­©', 'æ­»å±å­©',
  'ç‹—å±Ž', 'ç‹—å±', 'æ”¾å±', 'å±è©±', 'é¬¼è©±', 'å»¢è©±',
  'å»¢ç‰©', 'åžƒåœ¾', 'æ•—é¡ž', 'äººæ¸£', 'è³¤äºº', 'è³¤è²¨', 'è³¤', 'ä¸‹è³¤',
  'å™å¿ƒ', 'å™', 'å˜”', 'ä½œå˜”', 'æƒ³å',
  'è¨ŽåŽ­', 'ç…©', 'ç…©æ­»', 'åµæ­»', 'å¾ˆç…©', 'å¥½ç…©', 'è¶…ç…©',

  // ===== å«äººèµ°é–‹/åŽ»æ­» =====
  'åŽ»æ­»', 'å¿«åŽ»æ­»', 'æ€Žéº¼ä¸åŽ»æ­»', 'åŽ»æ­»å§', 'æ­»åŽ»',
  'é–‰å˜´', 'æ»¾', 'æ»¾é–‹', 'æ»¾è›‹', 'æ»¾å‡ºåŽ»', 'æ»¾å•¦', 'çµ¦æˆ‘æ»¾',
  'æ¶ˆå¤±', 'æ»¾é é»ž', 'åˆ¥ä¾†ç…©', 'èµ°é–‹',

  // ===== ç½µäººå£ž/ä¸é“å¾· =====
  'çŽ‹å…«', 'çŽ‹å…«è›‹', 'é¾œå…’å­', 'ç‹—å¨˜é¤Š', 'é›œç¨®', 'æ··è›‹', 'æ··å¸³',
  'ç•œç”Ÿ', 'ç¦½ç¸', 'ä¸æ˜¯äºº', 'æ²’äººæ€§', 'æ²’è‰¯å¿ƒ',
  'å¯æƒ¡', 'å¯æ¨', 'è©²æ­»', 'æ­»', 'åŽ»æ­»',

  // ===== å°èªžé«’è©±ï¼ˆå„ç¨®èªžéŸ³è½‰æ–‡å­—å¯èƒ½çš„å¯«æ³•ï¼‰=====
  'å¹¹æž—', 'å¹¹æž—å¨˜', 'å¹¹æž—è€å¸«', 'å¹¹æž—è€æ¯', 'å¹¹æ‚¨å¨˜', 'å¹¹å¦³å¨˜', 'å¹¹ä½ å¨˜',
  'æž—åŒ—', 'æž—æ¯', 'æçˆ¸', 'æåŒ—', 'æçˆ¸', 'ä½ çˆ¸', 'ä½ è€å¸«', 'è€å¸«å‹’',
  'è³½', 'å¡ž', 'ã„™ã„žË‹', // å°èªžã€Œå±Žã€
  'è†£', 'è†£å±„', // å°èªžå¥³æ€§å™¨å®˜ç²—è©±
  'å¤­å£½', 'å¤­å£½å–”', 'ä¿ƒå’ª', // å°èªžè² é¢ç”¨èªž
  'æ­»å›ä»”', 'æ­»æŸ¥æŸ', 'æ­»æŸ¥åŸ”', // å°èªžç½µäºº
  'é çˆ¸', 'é æ¯', 'é çˆ¸æ—',

  // ===== è³ªç–‘æ€§/æ”»æ“Šæ€§èªžå¥ =====
  'æœƒä¸æœƒé–‹è»Š', 'ä¸æœƒé–‹è»Š', 'çœ¼ç›é•·å“ª', 'çœ¼ç›å‘¢', 'æœ‰æ²’æœ‰çœ¼ç›',
  'çžŽäº†', 'çœ¼çžŽ', 'çžŽäº†çœ¼', 'çœ¼ç›çžŽ',
  'æ˜¯åœ¨å“ˆå›‰', 'å“ˆå›‰', 'æœ‰äº‹å—Ž', 'è…¦å­æœ‰å•é¡Œ', 'æœ‰æ¯›ç—…',
  'æžä»€éº¼', 'æžå±', 'æžæ¯›', 'åœ¨æž', 'ä½ åœ¨å¹¹å˜›',
  'ä»€éº¼æ±è¥¿', 'ä»€éº¼çŽ©æ„', 'å•¥çŽ©æ„',

  // ===== å˜²è«·/æŒ‘é‡ =====
  'å‘µå‘µ', 'å˜»å˜»', 'å˜¿å˜¿', 'å“ˆå“ˆå“ˆå“ˆå“ˆ', // å˜²è«·èªžæ°£
  'åŽ²å®³å–”', 'å¥½æ£’å–”', 'å¥½åŽ²å®³', 'ç¥žç¶“ç—…', 'æœ‰ç—…', 'è…¦å­å£žäº†',
  'ç¬‘æ­»', 'ç¬‘å±Ž', 'ç¬‘æ­»äºº', 'å¯ç¬‘', 'å¥½ç¬‘',
  'æ´»è©²', 'è‡ªæ‰¾çš„', 'è‡ªä½œè‡ªå—', 'å ±æ‡‰',

  // ===== æ€§ç›¸é—œä¸ç•¶ç”¨èªž =====
  'é›žå·´', 'å±Œ', 'æ‡¶å«', 'æ‡¶è¦º', 'lj', 'è€äºŒ', 'å°å¼Ÿå¼Ÿ',
  'å¥¶å­', 'å¥¶', 'èƒ¸', // åœ¨ä¸ç•¶èªžå¢ƒ
  'é¨·', 'é¨·è²¨', 'æ·«', 'æ·«è•©', 'è‰²ç‹¼', 'è®Šæ…‹', 'è‰²èƒš',
  'å©Š', 'å©Šå­', 'å¦“å¥³', 'æ´äº¤', 'è³£', 'ç ´éº»',

  // ===== è«§éŸ³/è®Šé«”/æ³¨éŸ³ =====
  'ãŠ£', 'ã„ã„¢Ë‹', 'ã„‡ã„‰', 'ã„ã„…', 'ã„Žã„…', 'ã„™ã„¢Ë‡ã„’ã„§ã„ Ë‡', 'ã„…ã„‘',
  'gan', 'gann', 'fxxk', 'fk', 'wtf', 'stfu', 'fck', 'fuc', 'fuk',
  'fxck', 'fook', 'fack', 'faq', 'fvck',
  'fk', 'fku', 'fu', 'fuu',
  'fml', 'omfg', 'stfu', 'gtfo', 'kys',
  'fkyou', 'fku', 'fkoff',
  'fxxx', 'fxk', 'ffk',
  'fku', 'fu2', 'fuu',
  'fml', 'omfg', 'stfu', 'gtfo', 'kys',
  'shit', 'sht', 'shiit', 'shitt', 'bullshit', 'bs',
  'damn', 'damm', 'dammit', 'damnit',
  'ass', 'arse', 'asshole', 'a-hole',
  'bitch', 'btch', 'biatch',
  'dick', 'dck', 'd1ck',
  'crap', 'crp',
  'hell', 'heck',
  'idiot', 'moron', 'dumb', 'stupid',

  // ===== ç¶²è·¯ç”¨èªž/ç¸®å¯« =====
  'åƒå±Ž', 'åƒå¤§ä¾¿', 'åƒðŸ’©',
  'è…¦X', 'è…¦æ®˜', 'æ™ºX',
  'gg', 'GG', // æœ‰æ™‚å€™å¸¶å˜²è«·
  'å¯æ’¥', 'å¯æ‚²',
  'å—†', 'å—†å±', 'å—†ä»€éº¼',
  'é…¸', 'é…¸æ°‘', 'é…¸ä»€éº¼',
  'å™´', 'å™´å­', 'äº‚å™´',
  'é»‘', 'é»‘äºº', // æƒ¡æ„æ‰¹è©•
  'å´©æ½°', 'æ°£æ­»', 'æ°£ç‚¸',
];

/**
 * å¨è„…æ€§è¨€èªž
 */
export const THREAT_WORDS = [
  // ===== æš´åŠ›å¨è„… =====
  'æ®º', 'æ®ºäº†ä½ ', 'æ®ºæ­»', 'ç ', 'ç æ­»', 'å¼„æ­»', 'æ‰“æ­»', 'æ•´æ­»',
  'æ', 'æä½ ', 'ææ­»', 'æ‰“ä½ ', 'æ‰“çˆ†', 'æ‰ä½ ', 'æ‰æ­»', 'ä¿®ç†ä½ ',
  'è¸¹', 'è¸¹æ­»', 'è¸¢æ­»', 'è¸¢çˆ†',
  'æ’ž', 'æ’žæ­»', 'æ’žçˆ†', 'è¼¾', 'è¼¾éŽ',

  // ===== å¨è„…èªžå¥ =====
  'ç­‰è‘—çž§', 'ç­‰è‘—çœ‹', 'æœ‰ä½ å¥½çœ‹', 'å¥½çœ‹', 'èµ°è‘—çž§',
  'å°å¿ƒé»ž', 'çµ¦æˆ‘å°å¿ƒ', 'æ”¾å°Šé‡', 'çµ¦æˆ‘æ”¾', 'æœ€å¥½',
  'æ‰¾äºº', 'æ‰¾å…„å¼Ÿ', 'æ‰¾äººæ”¶æ‹¾', 'å«äºº', 'å«å…„å¼Ÿ',
  'å ±å¾©', 'å¾Œæžœ', 'å¾Œæžœè‡ªè² ', 'è‡ªå·±è² è²¬', 'åˆ¥æ€ªæˆ‘',
  'å¨è„…', 'æåš‡', 'è®“ä½ ', 'è®“ä½ çŸ¥é“', 'çµ¦ä½ å¥½çœ‹',
  'ä½ å®Œäº†', 'å®Œè›‹äº†', 'æ­»å®šäº†', 'ç­‰æ­»', 'çŽ©å®Œäº†',
  'å°å¿ƒä½ çš„è»Š', 'å°å¿ƒè»Šå­', 'è¨˜ä½ä½ ', 'è¨˜ä½ä½ çš„è»Š',
  'çŸ¥é“ä½ ä½å“ª', 'æ‰¾åˆ°ä½ ', 'è®“ä½ å¥½çœ‹',

  // ===== è©›å’’ =====
  'è©›å’’', 'ä¸‹åœ°ç„', 'ä¸å¾—å¥½æ­»', 'æ–·å­çµ•å­«',
  'å‡ºé–€è¢«è»Šæ’ž', 'å…¨å®¶', 'å…¨å®¶æ­»', 'ä½ å…¨å®¶',
];

/**
 * é¨·æ“¾æ€§è¨€èªž
 */
export const HARASSMENT_WORDS = [
  // ===== æ­è¨•/æ€§é¨·æ“¾ =====
  'ç´„ç‚®', 'ç´„ç ²', 'ä¸€å¤œ', 'ä¸€å¤œæƒ…',
  'å¸¥å“¥', 'ç¾Žå¥³', 'å¦¹å­', 'å°å§å§', 'æ­£å¦¹', 'è¾£å¦¹',
  'æƒ³èªè­˜', 'äº¤å€‹æœ‹å‹', 'èŠèŠ', 'ç§èŠ', 'å¯†æˆ‘',
  'å–®èº«', 'æœ‰ç”·å‹', 'æœ‰å¥³å‹', 'æœ‰å°è±¡',
  'å¹¾æ­²', 'ä½å“ª', 'åœ¨å“ª', 'å“ªè£¡äºº',
  'é›»è©±', 'æ‰‹æ©Ÿ', 'è™Ÿç¢¼', 'åŠ æˆ‘', 'åŠ å¥½å‹', 'line', 'ig',

  // ===== è·Ÿè¹¤ç›¸é—œ =====
  'è·Ÿè¹¤', 'å·æ‹', 'å·çœ‹', 'ç›£è¦–',
  'çŸ¥é“ä½ å®¶', 'æ‰¾åˆ°ä½ å®¶', 'ç­‰ä½ ä¸‹ç­',
];

/**
 * æ­§è¦–æ€§è¨€èªž
 */
export const DISCRIMINATION_WORDS = [
  // ===== æ€§åˆ¥æ­§è¦– =====
  'å¥³å¸æ©Ÿ', 'å¥³äººé–‹è»Š', 'æ¯è±¬', 'å°å¥³', 'ç¶ èŒ¶', 'ç¶ èŒ¶å©Š',
  'å¨˜ç‚®', 'å¨˜å¨˜è…”', 'äººå¦–', 'æ­»gay', 'æ­»åŒ',

  // ===== åœ°åŸŸæ­§è¦– =====
  '426', 'é˜¿é™¸', 'é˜¿å…­', 'æ”¯é‚£', 'å¼·åœ‹äºº',
  'å—éƒ¨äºº', 'é„‰ä¸‹äºº', 'å°å·´å­',

  // ===== èº«å¿ƒéšœç¤™æ­§è¦– =====
  'æ®˜å»¢', 'çžŽå­', 'è¾å­', 'å•žå·´', 'ç˜¸å­', 'è·›è…³',
  'ç²¾ç¥žç—…', 'ç¥žç¶“ç—…', 'ç˜‹å­', 'ç˜‹å©†',

  // ===== å¹´é½¡æ­§è¦– =====
  'è€äººå®¶', 'è€é ­', 'è€å¤ªå©†', 'è€ä¸æ­»', 'è€å»¢ç‰©',
  'ä¸‰å¯¶', 'é¦¬è·¯ä¸‰å¯¶',

  // ===== å…¶ä»–æ­§è¦– =====
  'å¤–å‹ž', 'å¤–å‚­', // æ‡‰ä½¿ç”¨ã€Œç§»å·¥ã€ã€Œå¤–ç±çœ‹è­·ã€
  'çª®é¬¼', 'ä¹žä¸', 'é­¯è›‡', 'loser',
];

/**
 * æ‰€æœ‰ä¸ç•¶è¨€èªžåˆä½µï¼ˆç”¨æ–¼è­¦å‘Šé¡¯ç¤ºï¼‰
 * 2026-01 æ›´æ–°ï¼šç´å…¥é¨·æ“¾å’Œæ­§è¦–è©žï¼Œå› ç‚ºç¾åœ¨åªæ˜¯è­¦å‘Šä¸é˜»æ“‹
 */
export const ALL_PROFANITY = [
  ...PROFANITY_WORDS,
  ...THREAT_WORDS,
  ...HARASSMENT_WORDS,
  ...DISCRIMINATION_WORDS,
];

/**
 * é«˜åš´é‡åº¦è©žå½™ï¼ˆé¡¯ç¤ºå¼·çƒˆè­¦å‘Šï¼‰
 */
export const HIGH_SEVERITY_WORDS = [
  ...THREAT_WORDS,
  // æ¥µç«¯é«’è©±
  'å¹¹ä½ å¨˜', 'å¹¹æ‚¨å¨˜', 'æ“ä½ åª½', 'è‚ä½ åª½', 'å¹¹æž—å¨˜',
  'åŽ»æ­»', 'å¿«åŽ»æ­»', 'æ€Žéº¼ä¸åŽ»æ­»', 'åŽ»æ­»å§',
  // åš´é‡æ­§è¦–
  'æ”¯é‚£', 'æ¯è±¬',
];

/**
 * ä¸­åš´é‡åº¦è©žå½™
 */
export const MEDIUM_SEVERITY_WORDS = [
  'å¹¹', 'é ', 'é åŒ—', 'é æ¯', 'åª½çš„', 'æ©ŸæŽ°', 'é›žæŽ°',
  'ç™½ç™¡', 'ç™½ç›®', 'æ™ºéšœ', 'å»¢ç‰©', 'åžƒåœ¾', 'è…¦æ®˜',
  'æ»¾', 'é–‰å˜´', 'å™å¿ƒ',
];

/**
 * æª¢æ¸¬æ˜¯å¦åŒ…å«é«˜åš´é‡åº¦è©žå½™
 */
export function hasHighSeverityWord(text: string): string | null {
  const lowerText = text.toLowerCase();
  for (const word of HIGH_SEVERITY_WORDS) {
    if (lowerText.includes(word.toLowerCase())) {
      return word;
    }
  }
  return null;
}

/**
 * æª¢æ¸¬æ˜¯å¦åŒ…å«ä»»ä½•ä¸ç•¶è¨€èªž
 * @returns åŒ¹é…åˆ°çš„è©žå½™ï¼Œè‹¥ç„¡å‰‡è¿”å›ž null
 */
export function findProfanity(text: string): string | null {
  const lowerText = text.toLowerCase();
  for (const word of ALL_PROFANITY) {
    if (lowerText.includes(word.toLowerCase())) {
      return word;
    }
  }
  return null;
}

/**
 * å–å¾—è©žå½™çš„åš´é‡ç¨‹åº¦
 */
export function getProfanitySeverity(word: string): 'low' | 'medium' | 'high' {
  const lowerWord = word.toLowerCase();

  if (HIGH_SEVERITY_WORDS.some(w => lowerWord.includes(w.toLowerCase()))) {
    return 'high';
  }

  if (MEDIUM_SEVERITY_WORDS.some(w => lowerWord.includes(w.toLowerCase()))) {
    return 'medium';
  }

  return 'low';
}
