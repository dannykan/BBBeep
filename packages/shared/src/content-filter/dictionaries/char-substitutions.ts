/**
 * 字元替換對照表
 * 處理諧音字、形近字、全形半形轉換等規避手法
 */

/**
 * 中文數字 → 阿拉伯數字
 */
export const CHINESE_NUMBERS: Record<string, string> = {
  '零': '0', '〇': '0', '洞': '0', '動': '0',
  '一': '1', '壹': '1', '幺': '1', '么': '1', '妖': '1', '腰': '1',
  '二': '2', '貳': '2', '贰': '2', '兩': '2', '两': '2', '愛': '2', '爱': '2',
  '三': '3', '參': '3', '叁': '3', '仨': '3', '山': '3',
  '四': '4', '肆': '4', '斯': '4', '死': '4', '駟': '4',
  '五': '5', '伍': '5', '武': '5', '舞': '5', '午': '5', '吾': '5',
  '六': '6', '陸': '6', '陆': '6', '溜': '6', '遛': '6', '劉': '6', '刘': '6',
  '七': '7', '柒': '7', '妻': '7', '齊': '7', '齐': '7', '棄': '7', '起': '7',
  '八': '8', '捌': '8', '巴': '8', '吧': '8', '爸': '8', '拔': '8',
  '九': '9', '玖': '9', '酒': '9', '久': '9', '狗': '9', '韭': '9', '舅': '9',
};

/**
 * 英文字母形近字替換（含特殊符號、數字形近）
 */
export const LETTER_SUBSTITUTIONS: Record<string, string> = {
  // A
  '@': 'a', '4': 'a', 'Α': 'a', 'α': 'a', '∀': 'a', 'Λ': 'a', 'ａ': 'a', 'Ａ': 'a',
  // B
  '8': 'b', 'ß': 'b', 'Ｂ': 'b', 'ｂ': 'b', '฿': 'b',
  // C
  '(': 'c', '¢': 'c', '©': 'c', 'Ｃ': 'c', 'ｃ': 'c',
  // D
  'Ð': 'd', 'Ｄ': 'd', 'ｄ': 'd',
  // E
  '3': 'e', '€': 'e', 'Σ': 'e', 'ε': 'e', 'Ｅ': 'e', 'ｅ': 'e',
  // F
  'ƒ': 'f', 'Ｆ': 'f', 'ｆ': 'f',
  // G
  '6': 'g', '9': 'g', 'Ｇ': 'g', 'ｇ': 'g',
  // H
  '#': 'h', 'Ｈ': 'h', 'ｈ': 'h',
  // I
  '1': 'i', '!': 'i', '|': 'i', 'ì': 'i', 'í': 'i', 'î': 'i', 'ï': 'i', 'Ｉ': 'i', 'ｉ': 'i', 'ℹ': 'i',
  // J
  'Ｊ': 'j', 'ｊ': 'j',
  // K
  'Ｋ': 'k', 'ｋ': 'k',
  // L
  'Ｌ': 'l', 'ｌ': 'l', '£': 'l',
  // M
  'Ｍ': 'm', 'ｍ': 'm',
  // N
  'η': 'n', 'Ｎ': 'n', 'ｎ': 'n',
  // O
  '0': 'o', 'Ø': 'o', 'ø': 'o', 'Θ': 'o', 'θ': 'o', 'Ｏ': 'o', 'ｏ': 'o', '◯': 'o', '○': 'o',
  // P
  'Ｐ': 'p', 'ｐ': 'p', 'ρ': 'p',
  // Q
  'Ｑ': 'q', 'ｑ': 'q',
  // R
  'Ｒ': 'r', 'ｒ': 'r', '®': 'r',
  // S
  '$': 's', '5': 's', '§': 's', 'Ｓ': 's', 'ｓ': 's',
  // T
  '7': 't', '+': 't', '†': 't', 'Ｔ': 't', 'ｔ': 't',
  // U
  'μ': 'u', 'Ｕ': 'u', 'ｕ': 'u', 'υ': 'u',
  // V
  'Ｖ': 'v', 'ｖ': 'v', '√': 'v',
  // W
  'Ｗ': 'w', 'ｗ': 'w', 'ω': 'w',
  // X
  '×': 'x', 'Ｘ': 'x', 'ｘ': 'x', 'χ': 'x',
  // Y
  '¥': 'y', 'Ｙ': 'y', 'ｙ': 'y', 'γ': 'y',
  // Z
  '2': 'z', 'Ｚ': 'z', 'ｚ': 'z',
};

/**
 * 全形符號 → 半形符號
 */
export const FULLWIDTH_SYMBOLS: Record<string, string> = {
  '！': '!', '＂': '"', '＃': '#', '＄': '$', '％': '%', '＆': '&', '＇': "'",
  '（': '(', '）': ')', '＊': '*', '＋': '+', '，': ',', '－': '-', '．': '.',
  '／': '/', '：': ':', '；': ';', '＜': '<', '＝': '=', '＞': '>', '？': '?',
  '＠': '@', '［': '[', '＼': '\\', '］': ']', '＾': '^', '＿': '_', '｀': '`',
  '｛': '{', '｜': '|', '｝': '}', '～': '~', '　': ' ',
};

/**
 * 全形數字 → 半形數字
 */
export const FULLWIDTH_NUMBERS: Record<string, string> = {
  '０': '0', '１': '1', '２': '2', '３': '3', '４': '4',
  '５': '5', '６': '6', '７': '7', '８': '8', '９': '9',
};

/**
 * 常見諧音詞 → 標準詞
 * 用於關鍵字檢測
 *
 * 注意：只使用不常見的諧音字，避免把常用字誤判
 * 例如「來」太常用，不應轉換為 LINE
 */
export const HOMOPHONE_WORDS: Record<string, string> = {
  // LINE 相關諧音（只保留不常用的字）
  // 注意：「來」太常用（來了、過來、回來），移除以避免誤判
  '賴': 'line', '萊': 'line', '籟': 'line', '瀨': 'line',
  'ㄌㄞˋ': 'line', 'ㄌㄞ': 'line',

  // 微信相關諧音
  '威信': '微信', '微訊': '微信', 'weixin': '微信', 'wx': '微信',

  // 加/+ （移除「加」因為太常用：加油、加速、添加）
  '架': '+', '嘉': '+', 'ㄐㄧㄚ': '+',

  // 我（移除「偶」因為可能出現在正常句子）
  '挖': '我', 'ㄨㄛˇ': '我',
};

/**
 * 社群平台名稱變體
 */
export const SOCIAL_PLATFORM_VARIANTS: Record<string, string> = {
  // Instagram
  'ig': 'instagram', 'insta': 'instagram', '愛機': 'instagram',
  '哀居': 'instagram', 'ＩＧ': 'instagram',

  // Facebook
  'fb': 'facebook', '臉書': 'facebook', '非死不可': 'facebook',

  // Twitter/X
  'x': 'twitter', '推特': 'twitter',

  // TikTok
  '抖音': 'tiktok', '抖银': 'tiktok', 'tt': 'tiktok',

  // Telegram
  'tg': 'telegram', '電報': 'telegram', '电报': 'telegram',

  // WhatsApp
  'wa': 'whatsapp', 'whats': 'whatsapp',

  // Discord
  'dc': 'discord', '迪斯科': 'discord',
};

/**
 * 所有字元替換表合併（用於正規化）
 */
export const ALL_CHAR_SUBSTITUTIONS: Record<string, string> = {
  ...CHINESE_NUMBERS,
  ...LETTER_SUBSTITUTIONS,
  ...FULLWIDTH_SYMBOLS,
  ...FULLWIDTH_NUMBERS,
};
