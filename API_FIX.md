# API 400 éŒ¯èª¤ä¿®å¾©

## âœ… å·²ä¿®å¾©

### å•é¡Œ
POST `/messages` è¿”å› 400 Bad Request

### åŸå› 
DTO é©—è­‰å’Œé¡å‹è½‰æ›çš„é †åºå•é¡Œã€‚`@Transform` åœ¨é©—è­‰ä¹‹å‰åŸ·è¡Œï¼Œå°è‡´é©—è­‰å™¨ç„¡æ³•æ­£ç¢ºé©—è­‰ä¸­æ–‡å­—ç¬¦ä¸²ã€‚

### è§£æ±ºæ–¹æ¡ˆ

1. **ç°¡åŒ– DTO é©—è­‰**
   - DTO ä¸­çš„ `type` å­—æ®µä¿æŒç‚º `string` é¡å‹
   - ä½¿ç”¨ `@IsIn` é©—è­‰å™¨é©—è­‰ä¸­æ–‡å­—ç¬¦ä¸²
   - ç§»é™¤ `@Transform` è£é£¾å™¨

2. **åœ¨ Service å±¤è½‰æ›**
   - åœ¨ `messages.service.ts` ä¸­è™•ç†é¡å‹è½‰æ›
   - ç¢ºä¿å…ˆé©—è­‰ï¼Œå†è½‰æ›ç‚º Prisma enum

3. **ä¿®å¾©å°å…¥**
   - æ·»åŠ  `MessageTypeChinese` é¡å‹å°å…¥

## ğŸ“‹ ä¿®å¾©çš„æ–‡ä»¶

- `backend/src/messages/dto/create-message.dto.ts` - ç°¡åŒ–é©—è­‰é‚è¼¯
- `backend/src/messages/messages.service.ts` - æ·»åŠ é¡å‹è½‰æ›é‚è¼¯
- `backend/src/main.ts` - å„ªåŒ– ValidationPipe é…ç½®

## ğŸ§ª æ¸¬è©¦

ç¾åœ¨æ‡‰è©²å¯ä»¥æ­£å¸¸ç™¼é€æ¶ˆæ¯äº†ã€‚å¦‚æœé‚„æœ‰å•é¡Œï¼š

1. **æª¢æŸ¥å¾Œç«¯æ—¥èªŒ** - æŸ¥çœ‹å…·é«”çš„é©—è­‰éŒ¯èª¤
2. **æª¢æŸ¥è«‹æ±‚æ•¸æ“š** - ç¢ºèªç™¼é€çš„æ•¸æ“šæ ¼å¼æ­£ç¢º
3. **ä½¿ç”¨ Swagger** - è¨ªå• http://localhost:3001/api æ¸¬è©¦ API

## ğŸ“ è«‹æ±‚æ ¼å¼

æ­£ç¢ºçš„è«‹æ±‚æ ¼å¼ï¼š

```json
{
  "licensePlate": "ABC-1234",
  "type": "è»Šæ³æé†’",  // å¿…é ˆæ˜¯ï¼šè»Šæ³æé†’ã€è¡Œè»Šå®‰å…¨æé†’ã€è®šç¾æ„Ÿè¬
  "template": "æé†’æ‚¨è»Šç‡ˆä¼¼ä¹å°šæœªé–‹å•Ÿ",
  "customText": "è£œå……èªªæ˜ï¼ˆå¯é¸ï¼‰",
  "useAiRewrite": false
}
```

## ğŸ”„ é‡å•Ÿå¾Œç«¯

ä¿®å¾©å¾Œéœ€è¦é‡å•Ÿå¾Œç«¯æœå‹™å™¨ï¼š

```bash
cd backend
npm run start:dev
```
